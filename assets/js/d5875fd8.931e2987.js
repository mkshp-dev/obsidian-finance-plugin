"use strict";(globalThis.webpackChunkdocs_site=globalThis.webpackChunkdocs_site||[]).push([[568],{2774:(e,i,n)=>{n.r(i),n.d(i,{assets:()=>d,contentTitle:()=>c,default:()=>h,frontMatter:()=>o,metadata:()=>r,toc:()=>a});const r=JSON.parse('{"id":"core-features/unified-dashboard/commodities","title":"Commodities Tab","description":"The Commodities Tab manages all currencies and assets used in your Beancount ledger\u2014from stocks and crypto to forex and commodities.","source":"@site/docs/core-features/unified-dashboard/commodities.md","sourceDirName":"core-features/unified-dashboard","slug":"/core-features/unified-dashboard/commodities","permalink":"/obsidian-finance-plugin/docs/core-features/unified-dashboard/commodities","draft":false,"unlisted":false,"editUrl":"https://github.com/mkshp-dev/obsidian-finance-plugin/tree/agent/docs-site/docs/core-features/unified-dashboard/commodities.md","tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"sidebar_position":5},"sidebar":"tutorialSidebar","previous":{"title":"Balance Sheet Tab","permalink":"/obsidian-finance-plugin/docs/core-features/unified-dashboard/balance-sheet"},"next":{"title":"Settings","permalink":"/obsidian-finance-plugin/docs/configuration/settings"}}');var t=n(4848),s=n(8453);const o={sidebar_position:5},c="Commodities Tab",d={},a=[{value:"\ud83e\ude99 Features",id:"-features",level:2},{value:"Commodity Overview",id:"commodity-overview",level:3},{value:"Metadata Management",id:"metadata-management",level:3},{value:"Price Validation",id:"price-validation",level:3},{value:"\ud83d\udee0 Under the Hood",id:"-under-the-hood",level:2},{value:"Controller Architecture",id:"controller-architecture",level:3},{value:"Data Fetching",id:"data-fetching",level:3},{value:"Price Management",id:"price-management",level:3},{value:"File Operations",id:"file-operations",level:3}];function l(e){const i={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.header,{children:(0,t.jsx)(i.h1,{id:"commodities-tab",children:"Commodities Tab"})}),"\n",(0,t.jsxs)(i.p,{children:["The ",(0,t.jsx)(i.strong,{children:"Commodities Tab"})," manages all currencies and assets used in your Beancount ledger\u2014from stocks and crypto to forex and commodities."]}),"\n",(0,t.jsx)(i.h2,{id:"-features",children:"\ud83e\ude99 Features"}),"\n",(0,t.jsx)(i.h3,{id:"commodity-overview",children:"Commodity Overview"}),"\n",(0,t.jsx)(i.p,{children:"View all commodities declared in your ledger with:"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"Symbol"}),": Ticker or commodity code (e.g., ",(0,t.jsx)(i.code,{children:"AAPL"}),", ",(0,t.jsx)(i.code,{children:"BTC"}),", ",(0,t.jsx)(i.code,{children:"EUR"}),")"]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"Latest Price"}),": Most recent price point with date"]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"Status Indicator"}),": Quick visual indicator of price data availability","\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:["\ud83d\udfe2 ",(0,t.jsx)(i.strong,{children:"Automated"}),": Price fetcher configured and working"]}),"\n",(0,t.jsxs)(i.li,{children:["\u26aa ",(0,t.jsx)(i.strong,{children:"Manual"}),": No automated source configured"]}),"\n",(0,t.jsxs)(i.li,{children:["\u274c ",(0,t.jsx)(i.strong,{children:"Error"}),": Price fetcher failed"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(i.h3,{id:"metadata-management",children:"Metadata Management"}),"\n",(0,t.jsx)(i.p,{children:"For each commodity, you can configure:"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"Commodity Details"}),": Access via click to open detailed view modal"]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"Price Source"}),": The fetch source string (e.g., ",(0,t.jsx)(i.code,{children:"yahoo/AAPL"})," for Yahoo Finance)"]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"Logo/Icon URL"}),": Custom image URL for the commodity"]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"Display Name"}),": Human-readable name"]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"Quote Currency"}),": The currency this commodity is priced in"]}),"\n"]}),"\n",(0,t.jsx)(i.h3,{id:"price-validation",children:"Price Validation"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"Test Price Source"}),": Verify your price fetcher configuration works correctly"]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"Validate Format"}),": Ensures the price source string is valid"]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"Live Testing"}),": Runs ",(0,t.jsx)(i.code,{children:"bean-price"})," to check if the source can actually fetch prices"]}),"\n"]}),"\n",(0,t.jsx)(i.h2,{id:"-under-the-hood",children:"\ud83d\udee0 Under the Hood"}),"\n",(0,t.jsx)(i.h3,{id:"controller-architecture",children:"Controller Architecture"}),"\n",(0,t.jsxs)(i.p,{children:[(0,t.jsx)(i.code,{children:"CommoditiesController.ts"})," manages:"]}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"Commodity list fetching and state"}),"\n",(0,t.jsx)(i.li,{children:"Detail modal interactions"}),"\n",(0,t.jsx)(i.li,{children:"Price validation operations"}),"\n",(0,t.jsx)(i.li,{children:"Metadata update operations"}),"\n"]}),"\n",(0,t.jsx)(i.h3,{id:"data-fetching",children:"Data Fetching"}),"\n",(0,t.jsx)(i.p,{children:"The tab fetches commodity information via direct Beancount file analysis:"}),"\n",(0,t.jsxs)(i.ol,{children:["\n",(0,t.jsxs)(i.li,{children:["Scans for all ",(0,t.jsx)(i.code,{children:"commodity"})," directives in the ledger"]}),"\n",(0,t.jsx)(i.li,{children:"Extracts metadata from the directives"}),"\n",(0,t.jsx)(i.li,{children:"Queries for the latest price date in the ledger"}),"\n",(0,t.jsx)(i.li,{children:"Displays combined information to the user"}),"\n"]}),"\n",(0,t.jsx)(i.h3,{id:"price-management",children:"Price Management"}),"\n",(0,t.jsx)(i.p,{children:"When you configure a price source:"}),"\n",(0,t.jsxs)(i.ol,{children:["\n",(0,t.jsxs)(i.li,{children:["The setting is stored in the ",(0,t.jsx)(i.code,{children:"commodity"})," directive metadata (e.g., ",(0,t.jsx)(i.code,{children:'meta: {"price-source": "yahoo/AAPL"}'}),")"]}),"\n",(0,t.jsxs)(i.li,{children:['Clicking "Test Price Source" runs: ',(0,t.jsx)(i.code,{children:"bean-price -e <commodity> <fetcher-config>"})]}),"\n",(0,t.jsx)(i.li,{children:"If successful, the price source is saved to your Beancount file"}),"\n",(0,t.jsx)(i.li,{children:"Beancount's price updating tools can then use this configuration for automated fetches"}),"\n"]}),"\n",(0,t.jsx)(i.h3,{id:"file-operations",children:"File Operations"}),"\n",(0,t.jsx)(i.p,{children:"Commodity metadata changes follow the atomic write pattern:"}),"\n",(0,t.jsxs)(i.ol,{children:["\n",(0,t.jsx)(i.li,{children:"Locate the commodity directive in the file"}),"\n",(0,t.jsx)(i.li,{children:"Create a backup if enabled"}),"\n",(0,t.jsx)(i.li,{children:"Update the directive metadata"}),"\n",(0,t.jsx)(i.li,{children:"Write atomically to the file"}),"\n"]}),"\n",(0,t.jsx)(i.p,{children:"This ensures your commodity configuration is always safe and recoverable."})]})}function h(e={}){const{wrapper:i}={...(0,s.R)(),...e.components};return i?(0,t.jsx)(i,{...e,children:(0,t.jsx)(l,{...e})}):l(e)}},8453:(e,i,n)=>{n.d(i,{R:()=>o,x:()=>c});var r=n(6540);const t={},s=r.createContext(t);function o(e){const i=r.useContext(s);return r.useMemo(function(){return"function"==typeof e?e(i):{...i,...e}},[i,e])}function c(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:o(e.components),r.createElement(s.Provider,{value:i},e.children)}}}]);