"use strict";(globalThis.webpackChunkdocs_site=globalThis.webpackChunkdocs_site||[]).push([[651],{8453:(e,n,s)=>{s.d(n,{R:()=>o,x:()=>t});var i=s(6540);const r={},l=i.createContext(r);function o(e){const n=i.useContext(l);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),i.createElement(l.Provider,{value:n},e.children)}},9679:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>t,default:()=>a,frontMatter:()=>o,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"queries/troubleshooting","title":"Troubleshooting","description":"This guide addresses common issues with connectivity, queries, and data display.","source":"@site/docs/queries/troubleshooting.md","sourceDirName":"queries","slug":"/queries/troubleshooting","permalink":"/obsidian-finance-plugin/docs/queries/troubleshooting","draft":false,"unlisted":false,"editUrl":"https://github.com/mkshp-dev/obsidian-finance-plugin/tree/dev/docs-site/docs/queries/troubleshooting.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"BQL Queries","permalink":"/obsidian-finance-plugin/docs/queries/bql"}}');var r=s(4848),l=s(8453);const o={sidebar_position:2},t="Troubleshooting",c={},d=[{value:"\ud83d\udd0c Connection Issues",id:"-connection-issues",level:2},{value:"&quot;bean-query: command not found&quot;",id:"bean-query-command-not-found",level:3},{value:"&quot;File not found&quot; errors",id:"file-not-found-errors",level:3},{value:"WSL Path Errors",id:"wsl-path-errors",level:3},{value:"Python Not Found",id:"python-not-found",level:3},{value:"\ud83d\udcca Query Issues",id:"-query-issues",level:2},{value:"&quot;Error: Invalid Query&quot;",id:"error-invalid-query",level:3},{value:"Empty Results",id:"empty-results",level:3},{value:"Slow Query Performance",id:"slow-query-performance",level:3},{value:"BQL Code Blocks Not Rendering",id:"bql-code-blocks-not-rendering",level:3},{value:"\ud83d\udcc9 Data Display",id:"-data-display",level:2},{value:"Liabilities Show as Positive Numbers?",id:"liabilities-show-as-positive-numbers",level:3},{value:"Missing Charts",id:"missing-charts",level:3},{value:"Incorrect Net Worth",id:"incorrect-net-worth",level:3},{value:"\ud83d\udee0 Debug Mode",id:"-debug-mode",level:2},{value:"Common Log Messages",id:"common-log-messages",level:3},{value:"\ud83c\udd98 Getting Help",id:"-getting-help",level:2}];function h(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"troubleshooting",children:"Troubleshooting"})}),"\n",(0,r.jsx)(n.p,{children:"This guide addresses common issues with connectivity, queries, and data display."}),"\n",(0,r.jsx)(n.h2,{id:"-connection-issues",children:"\ud83d\udd0c Connection Issues"}),"\n",(0,r.jsx)(n.h3,{id:"bean-query-command-not-found",children:'"bean-query: command not found"'}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Cause"}),": The plugin cannot find ",(0,r.jsx)(n.code,{children:"bean-query"})," in your system's PATH. Note that ",(0,r.jsx)(n.code,{children:"bean-query"})," is ",(0,r.jsx)(n.strong,{children:"not"})," included with Beancount and must be installed separately."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Solution"}),":","\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Install beanquery: ",(0,r.jsx)(n.code,{children:"pip install beanquery"})]}),"\n",(0,r.jsx)(n.li,{children:"Go to Settings \u2192 Connection Tab"}),"\n",(0,r.jsx)(n.li,{children:'Click "Test All Commands" to see which commands fail'}),"\n",(0,r.jsxs)(n.li,{children:["If auto-detection fails, manually enter the absolute path to ",(0,r.jsx)(n.code,{children:"bean-query"}),":","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Windows: ",(0,r.jsx)(n.code,{children:"C:\\Python39\\Scripts\\bean-query.exe"})]}),"\n",(0,r.jsxs)(n.li,{children:["macOS/Linux: ",(0,r.jsx)(n.code,{children:"/usr/local/bin/bean-query"})," or ",(0,r.jsx)(n.code,{children:"~/.local/bin/bean-query"})]}),"\n",(0,r.jsxs)(n.li,{children:["WSL: ",(0,r.jsx)(n.code,{children:"wsl bean-query"})]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.li,{children:'Click "Test Bean Query" to verify it works'}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Alternative"}),": Add beanquery's scripts directory to your system PATH"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"file-not-found-errors",children:'"File not found" errors'}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Cause"}),": The Beancount file path in settings is incorrect or the file doesn't exist."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Solution"}),": Verify your ",(0,r.jsx)(n.strong,{children:"Beancount File Path"})," in Settings \u2192 Connection:","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Windows: ",(0,r.jsx)(n.code,{children:"C:\\Users\\YourName\\Documents\\finances.beancount"})]}),"\n",(0,r.jsxs)(n.li,{children:["macOS/Linux: ",(0,r.jsx)(n.code,{children:"/home/username/finances.beancount"})]}),"\n",(0,r.jsxs)(n.li,{children:["WSL: ",(0,r.jsx)(n.code,{children:"/mnt/c/Users/YourName/Documents/finances.beancount"})," (Linux-style path)"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Test"}),': Use the "Test Bean Check" button to validate the file']}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"wsl-path-errors",children:"WSL Path Errors"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Symptom"}),": Commands work but file operations fail on Windows when using WSL."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Cause"}),": Path format mismatch between Windows and WSL."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Solution"}),":","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["If your Beancount file is in Windows, use the WSL path format: ",(0,r.jsx)(n.code,{children:"/mnt/c/Users/YourName/..."})]}),"\n",(0,r.jsx)(n.li,{children:"The plugin automatically converts paths when executing commands"}),"\n",(0,r.jsx)(n.li,{children:'Verify in Settings \u2192 Connection that "WSL (Default)" is detected'}),"\n",(0,r.jsx)(n.li,{children:'Test with "Test All Commands" to ensure conversion works'}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"python-not-found",children:"Python Not Found"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Symptom"}),": All Beancount commands fail."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Cause"}),": Python is not installed or not in PATH."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Solution"}),":","\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Verify Python 3.8+ is installed: ",(0,r.jsx)(n.code,{children:"python --version"})," or ",(0,r.jsx)(n.code,{children:"python3 --version"})]}),"\n",(0,r.jsx)(n.li,{children:"If not installed, download from python.org or use your package manager"}),"\n",(0,r.jsx)(n.li,{children:"After installing, restart Obsidian"}),"\n",(0,r.jsx)(n.li,{children:"The plugin will auto-detect Python on next startup"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"-query-issues",children:"\ud83d\udcca Query Issues"}),"\n",(0,r.jsx)(n.h3,{id:"error-invalid-query",children:'"Error: Invalid Query"'}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Syntax Error"}),": Check for typos in your BQL query","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Strings must use single quotes: ",(0,r.jsx)(n.code,{children:"'Expenses'"})," not ",(0,r.jsx)(n.code,{children:'"Expenses"'})]}),"\n",(0,r.jsxs)(n.li,{children:["Regex patterns use tilde: ",(0,r.jsx)(n.code,{children:"account ~ '^Assets'"})," not ",(0,r.jsx)(n.code,{children:"account = '^Assets'"})]}),"\n",(0,r.jsxs)(n.li,{children:["SQL keywords must be uppercase: ",(0,r.jsx)(n.code,{children:"SELECT"}),", ",(0,r.jsx)(n.code,{children:"WHERE"}),", ",(0,r.jsx)(n.code,{children:"GROUP BY"})]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Test"}),": Try a simple query first: ",(0,r.jsx)(n.code,{children:"SELECT account"})]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"empty-results",children:"Empty Results"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Date Format"}),": Ensure dates are ",(0,r.jsx)(n.code,{children:"YYYY-MM-DD"})," format (ISO 8601)","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\u2705 Correct: ",(0,r.jsx)(n.code,{children:"date >= 2023-01-01"})]}),"\n",(0,r.jsxs)(n.li,{children:["\u274c Wrong: ",(0,r.jsx)(n.code,{children:"date >= 01/01/2023"})]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Currency Conversion"}),": ",(0,r.jsx)(n.code,{children:"convert()"})," functions return 0 if no price data exists for that date","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Solution: Add price directives to your ledger or check the date range"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Account Regex"}),": Double-check your account patterns","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Example: ",(0,r.jsx)(n.code,{children:"'^Expenses'"}),' matches "Expenses',":Food",'" but not "Income',":Salary",'"']}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"slow-query-performance",children:"Slow Query Performance"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Large Ledgers"}),": Queries on large files (>10k transactions) may be slow"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Solutions"}),":","\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Reduce date ranges in queries: ",(0,r.jsx)(n.code,{children:"WHERE date >= 2024-01-01"})]}),"\n",(0,r.jsx)(n.li,{children:'Lower "Max Transaction Results" in Settings \u2192 Performance'}),"\n",(0,r.jsx)(n.li,{children:"Use more specific WHERE clauses to reduce result sets"}),"\n",(0,r.jsx)(n.li,{children:"Consider splitting very large ledgers into yearly files"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"bql-code-blocks-not-rendering",children:"BQL Code Blocks Not Rendering"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Symptom"}),": Code blocks show raw query text instead of results table."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Solutions"}),":","\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Ensure you're using the correct syntax:","\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"```bql\nSELECT * FROM accounts\n```\n"})}),"\n"]}),"\n",(0,r.jsx)(n.li,{children:"Check the browser console (Ctrl+Shift+I) for error messages"}),"\n",(0,r.jsx)(n.li,{children:"Enable Debug Mode in Settings \u2192 General \u2192 Debug Mode"}),"\n",(0,r.jsxs)(n.li,{children:["Look for ",(0,r.jsx)(n.code,{children:"[Beancount]"})," prefixed messages in the console"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"-data-display",children:"\ud83d\udcc9 Data Display"}),"\n",(0,r.jsx)(n.h3,{id:"liabilities-show-as-positive-numbers",children:"Liabilities Show as Positive Numbers?"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"This is intentional!"})," Beancount stores Liabilities as negative numbers internally, but the plugin displays them as positive magnitudes for user-friendliness."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Net Worth Calculation"}),": Still correct as ",(0,r.jsx)(n.code,{children:"Assets - |Liabilities|"})]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"missing-charts",children:"Missing Charts"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Requirement"}),": Charts require at least 2 data points (typically 2 months of history) to render a line."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Solution"}),":","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Ensure your ledger has transactions spanning multiple months"}),"\n",(0,r.jsxs)(n.li,{children:["Check that accounts match the expected patterns (e.g., ",(0,r.jsx)(n.code,{children:"^Assets"}),", ",(0,r.jsx)(n.code,{children:"^Liabilities"}),")"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"incorrect-net-worth",children:"Incorrect Net Worth"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Common Causes"}),":","\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Missing Price Data"}),": If you hold commodities (stocks, crypto), ensure you have price directives"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Wrong Account Classification"}),": Verify accounts start with correct prefixes (Assets, Liabilities, etc.)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Opening Balances"}),": Ensure you have proper opening balance entries"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Debug"}),": Use a direct BQL query to verify:","\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bql",children:"SELECT account, convert(sum(position), 'USD')\nWHERE account ~ '^Assets|^Liabilities'\nGROUP BY account\n"})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"-debug-mode",children:"\ud83d\udee0 Debug Mode"}),"\n",(0,r.jsx)(n.p,{children:"For detailed troubleshooting:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Enable Debug Mode"}),": Settings \u2192 General \u2192 Debug Mode (toggle on)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Open Console"}),": Press ",(0,r.jsx)(n.code,{children:"Ctrl+Shift+I"})," (Windows/Linux) or ",(0,r.jsx)(n.code,{children:"Cmd+Option+I"})," (macOS)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Filter Logs"}),": Search for ",(0,r.jsx)(n.code,{children:"[Beancount]"})," in the console"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Look for"}),":","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Command execution logs showing the exact ",(0,r.jsx)(n.code,{children:"bean-query"})," commands"]}),"\n",(0,r.jsx)(n.li,{children:"Error messages with stack traces"}),"\n",(0,r.jsx)(n.li,{children:"File operation logs (reads, writes, backups)"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"common-log-messages",children:"Common Log Messages"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Successful Query:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"[Beancount] Running query: SELECT account...\n[Beancount] Query completed: 42 results\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Failed Command:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"[Beancount] Command failed: bean-query not found\n[Beancount] Error: spawn bean-query ENOENT\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"File Operation:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"[Beancount] Creating backup: finances.beancount.backup.20240101-120000\n[Beancount] Transaction created successfully\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"-getting-help",children:"\ud83c\udd98 Getting Help"}),"\n",(0,r.jsx)(n.p,{children:"If you're still stuck:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Check Documentation"}),": Review the ",(0,r.jsx)(n.a,{href:"/obsidian-finance-plugin/docs/getting-started/installation",children:"Installation Guide"})," and ",(0,r.jsx)(n.a,{href:"/obsidian-finance-plugin/docs/configuration/settings",children:"Settings"})," docs"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"GitHub Issues"}),": Search existing issues at ",(0,r.jsx)(n.a,{href:"https://github.com/mkshp-dev/obsidian-finance-plugin/issues",children:"https://github.com/mkshp-dev/obsidian-finance-plugin/issues"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Create Issue"}),": Include:","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Your OS (Windows 10/11, macOS version, Linux distro)"}),"\n",(0,r.jsxs)(n.li,{children:["Python version: ",(0,r.jsx)(n.code,{children:"python --version"})]}),"\n",(0,r.jsxs)(n.li,{children:["Beancount version: ",(0,r.jsx)(n.code,{children:"bean-query --version"})]}),"\n",(0,r.jsx)(n.li,{children:"Debug logs from the console"}),"\n",(0,r.jsx)(n.li,{children:"Steps to reproduce the problem"}),"\n"]}),"\n"]}),"\n"]})]})}function a(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}}}]);