"use strict";(globalThis.webpackChunkdocs_site=globalThis.webpackChunkdocs_site||[]).push([[3],{7316:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>c,default:()=>h,frontMatter:()=>a,metadata:()=>i,toc:()=>o});const i=JSON.parse('{"id":"core-features/unified-dashboard/balance-sheet","title":"Balance Sheet Tab","description":"The Balance Sheet provides a hierarchical view of your financial position at any point in time.","source":"@site/docs/core-features/unified-dashboard/balance-sheet.md","sourceDirName":"core-features/unified-dashboard","slug":"/core-features/unified-dashboard/balance-sheet","permalink":"/obsidian-finance-plugin/docs/core-features/unified-dashboard/balance-sheet","draft":false,"unlisted":false,"editUrl":"https://github.com/mkshp-dev/obsidian-finance-plugin/tree/agent/docs-site/docs/core-features/unified-dashboard/balance-sheet.md","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"sidebar_position":4},"sidebar":"tutorialSidebar","previous":{"title":"Journal Tab","permalink":"/obsidian-finance-plugin/docs/core-features/unified-dashboard/journal"},"next":{"title":"Commodities Tab","permalink":"/obsidian-finance-plugin/docs/core-features/unified-dashboard/commodities"}}');var r=s(4848),t=s(8453);const a={sidebar_position:4},c="Balance Sheet Tab",l={},o=[{value:"\ud83c\udfdb Features",id:"-features",level:2},{value:"Account Hierarchy",id:"account-hierarchy",level:3},{value:"Valuation Methods",id:"valuation-methods",level:3},{value:"Real-time Balances",id:"real-time-balances",level:3},{value:"\ud83d\udee0 Under the Hood",id:"-under-the-hood",level:2},{value:"Controller Architecture",id:"controller-architecture",level:3},{value:"Query Generation",id:"query-generation",level:3},{value:"Tree Building",id:"tree-building",level:3},{value:"Performance",id:"performance",level:3}];function d(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"balance-sheet-tab",children:"Balance Sheet Tab"})}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.strong,{children:"Balance Sheet"})," provides a hierarchical view of your financial position at any point in time."]}),"\n",(0,r.jsx)(n.h2,{id:"-features",children:"\ud83c\udfdb Features"}),"\n",(0,r.jsx)(n.h3,{id:"account-hierarchy",children:"Account Hierarchy"}),"\n",(0,r.jsx)(n.p,{children:"View your accounts organized by type with drill-down capability:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Assets"}),": Cash, Banks, Investments, Real Estate"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Liabilities"}),": Credit Cards, Loans, Mortgages"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Equity"}),": Opening balances, Retained Earnings, Paid-in Capital"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Income & Expenses"}),": (if configured to display)"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"valuation-methods",children:"Valuation Methods"}),"\n",(0,r.jsx)(n.p,{children:"Toggle between three views to see different perspectives:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Market Value (Converted)"}),": All holdings converted to your Operating Currency at current market prices"]}),"\n"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Uses the ",(0,r.jsx)(n.code,{children:"convert()"})," function to apply exchange rates and market prices"]}),"\n",(0,r.jsx)(n.li,{children:"Perfect for seeing your net worth in a single currency"}),"\n"]}),"\n",(0,r.jsxs)(n.ol,{start:"2",children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"At Cost"}),": The original cost basis of your assets"]}),"\n"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Uses the ",(0,r.jsx)(n.code,{children:"cost()"})," function to show purchase prices"]}),"\n",(0,r.jsx)(n.li,{children:"Useful for tax calculations and understanding gains/losses"}),"\n"]}),"\n",(0,r.jsxs)(n.ol,{start:"3",children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Units"}),": Raw number of shares, coins, or currency units"]}),"\n"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Shows ",(0,r.jsx)(n.code,{children:"50 AAPL"}),", ",(0,r.jsx)(n.code,{children:"1.5 BTC"}),", ",(0,r.jsx)(n.code,{children:"1000 USD"}),", etc."]}),"\n",(0,r.jsx)(n.li,{children:"Essential for tracking asset quantities"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"real-time-balances",children:"Real-time Balances"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Parent account balances automatically aggregate children"}),"\n",(0,r.jsx)(n.li,{children:"All values update when new transactions are recorded"}),"\n",(0,r.jsx)(n.li,{children:"Account expansion/collapse saves your preferences"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"-under-the-hood",children:"\ud83d\udee0 Under the Hood"}),"\n",(0,r.jsx)(n.h3,{id:"controller-architecture",children:"Controller Architecture"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"BalanceSheetController.ts"})," manages:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Tab state (selected valuation method, expanded accounts)"}),"\n",(0,r.jsx)(n.li,{children:"Dynamic BQL query generation"}),"\n",(0,r.jsx)(n.li,{children:"Hierarchical tree construction from flat CSV data"}),"\n",(0,r.jsx)(n.li,{children:"Svelte store for reactive updates"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"query-generation",children:"Query Generation"}),"\n",(0,r.jsx)(n.p,{children:"The query adapts based on the selected valuation method:"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Market Value (Converted):"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sql",children:"SELECT account, convert(sum(position), 'USD')\nWHERE account ~ '^Assets|^Liabilities|^Equity'\nGROUP BY account\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"At Cost:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sql",children:"SELECT account, cost(sum(position))\nWHERE account ~ '^Assets|^Liabilities|^Equity'\nGROUP BY account\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Units:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sql",children:"SELECT account, units(sum(position))\nWHERE account ~ '^Assets|^Liabilities|^Equity'\nGROUP BY account\n"})}),"\n",(0,r.jsx)(n.h3,{id:"tree-building",children:"Tree Building"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["BQL returns flat rows: ",(0,r.jsx)(n.code,{children:"Assets:Bank:Checking | 100 USD"})]}),"\n",(0,r.jsxs)(n.li,{children:["The ",(0,r.jsx)(n.code,{children:"buildAccountHierarchy()"})," function recursively constructs a tree"]}),"\n",(0,r.jsxs)(n.li,{children:["Parent nodes (",(0,r.jsx)(n.code,{children:"Assets"}),", ",(0,r.jsx)(n.code,{children:"Assets:Bank"}),") automatically sum their children"]}),"\n",(0,r.jsx)(n.li,{children:"The UI renders this tree with collapsible expand/collapse controls"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"performance",children:"Performance"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Queries limit results based on ",(0,r.jsx)(n.code,{children:"maxTransactionResults"})," setting"]}),"\n",(0,r.jsx)(n.li,{children:"For very large account hierarchies, the tree building is optimized with O(n) iteration"}),"\n",(0,r.jsx)(n.li,{children:"Account states (expanded/collapsed) are stored in the component state for quick re-renders"}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>a,x:()=>c});var i=s(6540);const r={},t=i.createContext(r);function a(e){const n=i.useContext(t);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),i.createElement(t.Provider,{value:n},e.children)}}}]);