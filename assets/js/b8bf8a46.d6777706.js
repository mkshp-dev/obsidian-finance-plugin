"use strict";(globalThis.webpackChunkdocs_site=globalThis.webpackChunkdocs_site||[]).push([[18],{811:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>u,frontMatter:()=>l,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"queries/bql","title":"BQL Queries","description":"The plugin brings the full power of Beancount Query Language (BQL) directly into Obsidian. You can execute SQL-like queries against your financial data and display the results in your notes.","source":"@site/docs/queries/bql.md","sourceDirName":"queries","slug":"/queries/bql","permalink":"/obsidian-finance-plugin/docs/queries/bql","draft":false,"unlisted":false,"editUrl":"https://github.com/mkshp-dev/obsidian-finance-plugin/tree/dev/docs-site/docs/queries/bql.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"tutorialSidebar","previous":{"title":"Settings","permalink":"/obsidian-finance-plugin/docs/configuration/settings"},"next":{"title":"Troubleshooting","permalink":"/obsidian-finance-plugin/docs/queries/troubleshooting"}}');var t=s(4848),r=s(8453);const l={sidebar_position:1},o="BQL Queries",c={},d=[{value:"\ud83d\udcca BQL Code Blocks",id:"-bql-code-blocks",level:2},{value:"Basic Usage",id:"basic-usage",level:3},{value:"Features",id:"features",level:3},{value:"Common Examples",id:"common-examples",level:3},{value:"\ud83d\udcb0 Inline BQL Queries",id:"-inline-bql-queries",level:2},{value:"Direct Queries",id:"direct-queries",level:3},{value:"Shorthand Templates",id:"shorthand-templates",level:3},{value:"1. Setup Template",id:"1-setup-template",level:4},{value:"WORTH: Net Worth",id:"worth-net-worth",level:2},{value:"2. Configure",id:"2-configure",level:4},{value:"3. Use",id:"3-use",level:4}];function a(e){const n={blockquote:"blockquote",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"bql-queries",children:"BQL Queries"})}),"\n",(0,t.jsxs)(n.p,{children:["The plugin brings the full power of ",(0,t.jsx)(n.strong,{children:"Beancount Query Language (BQL)"})," directly into Obsidian. You can execute SQL-like queries against your financial data and display the results in your notes."]}),"\n",(0,t.jsx)(n.p,{children:"The plugin supports two distinct modes:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Code Blocks"}),": For detailed analysis and tables."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Inline Queries"}),": For embedding live values into your text."]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"-bql-code-blocks",children:"\ud83d\udcca BQL Code Blocks"}),"\n",(0,t.jsxs)(n.p,{children:["Use standard Markdown code blocks with the ",(0,t.jsx)(n.code,{children:"bql"})," language identifier to create formatted, interactive tables."]}),"\n",(0,t.jsx)(n.h3,{id:"basic-usage",children:"Basic Usage"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"```bql\nSELECT account, sum(position)\nWHERE account ~ '^Expenses'\nGROUP BY account\n```\n"})}),"\n",(0,t.jsx)(n.h3,{id:"features",children:"Features"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Interactive Results"}),": Sortable columns and responsive layout."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Tools"}),":","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Refresh (\u27f3)"}),": Re-run the query to get the latest data."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Copy (\ud83d\udccb)"}),": Copy the raw CSV results to your clipboard."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Export (\ud83d\udce4)"}),": Download results as a CSV file."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Toggle View"}),": Hide the query code to show only the results table (configurable in Settings)."]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"common-examples",children:"Common Examples"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"List All Accounts:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sql",children:"SELECT account GROUP BY account ORDER BY account\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Recent Transactions:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sql",children:"SELECT date, payee, narration, position\nORDER BY date DESC LIMIT 20\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Monthly Expenses:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sql",children:"SELECT year, month, sum(position)\nWHERE account ~ '^Expenses'\nGROUP BY year, month\nORDER BY year DESC, month DESC\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"-inline-bql-queries",children:"\ud83d\udcb0 Inline BQL Queries"}),"\n",(0,t.jsxs)(n.p,{children:["Embed live financial values directly in your sentences using single backticks. This is perfect for daily journaling (e.g., ",(0,t.jsx)(n.em,{children:'"My checking balance is currently..."'}),")."]}),"\n",(0,t.jsx)(n.h3,{id:"direct-queries",children:"Direct Queries"}),"\n",(0,t.jsxs)(n.p,{children:["Write a full BQL query inside backticks starting with ",(0,t.jsx)(n.code,{children:"bql:"}),":"]}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsxs)(n.p,{children:["My net worth is ",(0,t.jsx)(n.code,{children:"bql:SELECT convert(sum(position), 'USD') WHERE account ~ '^Assets'"})]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"shorthand-templates",children:"Shorthand Templates"}),"\n",(0,t.jsxs)(n.p,{children:["For complex or frequently used queries, use the ",(0,t.jsx)(n.strong,{children:"Shorthand System"}),"."]}),"\n",(0,t.jsx)(n.h4,{id:"1-setup-template",children:"1. Setup Template"}),"\n",(0,t.jsxs)(n.p,{children:["Create a note (e.g., ",(0,t.jsx)(n.code,{children:"BQL_Shortcuts.md"}),") and define queries like this:"]}),"\n",(0,t.jsx)(n.h2,{id:"worth-net-worth",children:"WORTH: Net Worth"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bql-shorthand",children:"SELECT convert(sum(position), 'USD')\nWHERE account ~ '^(Assets|Liabilities)'\n"})}),"\n",(0,t.jsx)(n.h4,{id:"2-configure",children:"2. Configure"}),"\n",(0,t.jsxs)(n.p,{children:["Go to ",(0,t.jsx)(n.strong,{children:"Settings"}),' and point "Shortcuts template file" to ',(0,t.jsx)(n.code,{children:"BQL_Shortcuts.md"}),"."]}),"\n",(0,t.jsx)(n.h4,{id:"3-use",children:"3. Use"}),"\n",(0,t.jsx)(n.p,{children:"Now you can simply write:"}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsxs)(n.p,{children:["My net worth is ",(0,t.jsx)(n.code,{children:"bql-sh:WORTH"})]}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(a,{...e})}):a(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>l,x:()=>o});var i=s(6540);const t={},r=i.createContext(t);function l(e){const n=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:l(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);